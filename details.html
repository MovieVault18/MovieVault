<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Details</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div class="movie-details">
        <img id="details-movie-img" src="" alt="Movie Poster">
        <h1 id="details-movie-title"></h1>
        <p id="details-movie-year"></p>
        <p id="details-movie-rating"></p>
        <p id="details-movie-desc"></p>
        <a href="index.html" class="back-button">Back to Home</a>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const presetMovies = {
                1: { name: "Inception", poster: "inception.jpg", year: "2010", rating: "8.8", description: "A skilled thief is given a chance at redemption if he can successfully plant an idea into someone's subconscious." },
                2: { name: "The Matrix", poster: "matrix.jpg", year: "1999", rating: "8.7", description: "A hacker learns about the true nature of reality and his role in the war against its controllers." }
            };

            // Get the movie number from URL
            const urlParams = new URLSearchParams(window.location.search);
            const movieNumber = urlParams.get("movie");

            let movieDetails;

            if (movieNumber && presetMovies[movieNumber]) {
                movieDetails = presetMovies[movieNumber]; // Use preset movie data
            } else {
                movieDetails = JSON.parse(localStorage.getItem('selectedMovie')); // Use local storage for random/search movies
            }

            if (movieDetails) {
                document.getElementById('details-movie-img').src = `img/${movieDetails.poster}`;
                document.getElementById('details-movie-title').textContent = movieDetails.name;
                document.getElementById('details-movie-year').textContent = `Year: ${movieDetails.year || 'N/A'}`;
                document.getElementById('details-movie-rating').textContent = `Rating: ${movieDetails.rating}`;
                document.getElementById('details-movie-desc').textContent = movieDetails.description;
            } else {
                document.body.innerHTML = "<h2 class='error-message'>No movie details found.</h2>";
            }
        });
    </script>

</body>
</html>
